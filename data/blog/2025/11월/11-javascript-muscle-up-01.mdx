---
title: í”„ë ˆì„ì›Œí¬ ì—†ì´ ì‚¬ê³ í•˜ê¸°
subtitle: JavaScript Muscle Up 01
date: 2025.11.11
tags: ['JavaScript', 'Muscle Up']
draft: false
layout: PostSimple
summary: JavaScript Muscle Up 01 - í”„ë ˆì„ì›Œí¬ ì—†ì´ ì‚¬ê³ í•˜ê¸°
series: 'JavaScript Muscle Up ì‹œë¦¬ì¦ˆ'
seriesOrder: 1
canonicalUrl: https://log-fe-blog.vercel.app/blog/2025/11/11-javascript-muscle-up-01
---

```text
ë¦¬ì•¡íŠ¸ì™€ ë„¥ìŠ¤íŠ¸ ì‚¬ì´ì—ì„œ ëª‡ ë…„ì„ ë›°ë‹¤ ë³´ë‹ˆ
ì–´ëŠ ìˆœê°„ë¶€í„° â€˜ìƒê°â€™ì„ ë¦¬ì•¡íŠ¸ ë¬¸ë²• ì•ˆì—ì„œ í•˜ê²Œ ëë‹¤.

ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒë„, ë°ì´í„°ë¥¼ í˜ë ¤ë³´ë‚´ëŠ” ê²ƒë„,
ì‹¬ì§€ì–´ í•¨ìˆ˜ë¥¼ ì§œëŠ” ê²ƒë„ JSì˜ ë¬¸ë²•ì´ ì•„ë‹ˆë¼ Reactì˜ ê·œì¹™ìœ¼ë¡œ ì‚¬ê³ í•˜ê³  ìˆì—ˆë‹¤.

ê·¸ëŸ¬ë‹¤ ë¬¸ë“ â€œì´ê±°, ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œëŠ” ì„¤ëª…ì´ ì•ˆ ë˜ëŠ” ì‚¬ê³ ë°©ì‹ ì•„ë‹Œê°€?â€ í•˜ëŠ” ì˜ë¬¸ì´ ë“¤ì—ˆë‹¤.
ê·¸ë¦¬ê³  ê¹¨ë‹¬ì•˜ë‹¤.
ë‚´ê°€ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ â€˜ì“´ë‹¤â€™ëŠ” ê°ê°ì„ ìƒì–´ë²„ë¦¬ê³  ìˆì—ˆë‹¤ëŠ” ê±¸.
```

## ì‹œë¦¬ì¦ˆ ëª©ë¡

    1.	í”„ë ˆì„ì›Œí¬ ì—†ì´ ì‚¬ê³ í•˜ê¸° ğŸ“Œ
    2.	[ê°’ê³¼ ì°¸ì¡°, ë¶ˆë³€ì„±](https://log-fe-blog.vercel.app/blog/2025/11/11-javascript-muscle-up-02)
    3.	ìŠ¤ì½”í”„ì™€ í´ë¡œì €
    4.	ë¹„ë™ê¸°ì™€ ì´ë²¤íŠ¸ ë£¨í”„
    5.	thisì™€ ë°”ì¸ë”©
    6.	í”„ë¡œí† íƒ€ì… ì´í•´
    7.	ë¸Œë¼ìš°ì € ëŸ°íƒ€ì„ê³¼ ì´ë²¤íŠ¸
    8.	ëª¨ë“ˆê³¼ ì‹¤í–‰í™˜ê²½
    9.	í•¨ìˆ˜í˜• ì‚¬ê³  ì—°ìŠµ
    10.	ê²°êµ­ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‚¬ê³ í•˜ê¸°

---

# ìˆœìˆ˜ JS ë¡œ useState, useSignal êµ¬í˜„í•˜ê¸°

```tsx
const [count, setCount] = useState(0)
```

ìƒíƒœê´€ë¦¬ì˜ ì›ë¦¬ëŠ” ê°„ë‹¨í•©ë‹ˆë‹¤. ìƒíƒœê°€ ë³€ê²½ë˜ë©´ í™”ë©´ì„ ë‹¤ì‹œ ê·¸ë ¤ì¤€ë‹¤.  
ê·¸ ê¸°ë³¸ì— ë§ì¶°ì„œ ìœ„ ì½”ë“œê°€ ë™ì‘ ë  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.

```tsx:index.js showLineNumberss
function createUseState() {
  let state;

  function useState(initialValue) {
    if (state === undefined) {
      state = initialValue;
      console.log('ì´ˆê¸°í™”:', state);
    }

    const setState = newValue => {
      state = newValue;
      console.log('setState:', state);
      Component();
    };

    return [state, setState];
  }

  return useState;
}

const useState = createUseState();

function Component() {
  const [count, setCount] = useState(0);
  const app = document.querySelector('#app');
  app.innerHTML = `
    <h1>Count: ${count}</h1>
    <button id="inc">+</button>
    <button id="dec">-</button>
  `;

  document.querySelector('#inc').onclick = () => setCount(count + 1);
  document.querySelector('#dec').onclick = () => setCount(count - 1);
}

Component();
```

> í´ë¡œì €: í•¨ìˆ˜ê°€ ì„ ì–¸ë  ë‹¹ì‹œì˜ ë ‰ì‹œì»¬ í™˜ê²½ì„ ê¸°ì–µí•˜ëŠ”ê²ƒ

ì¹´ìš´íŠ¸ê°€ ì˜ ë³€ê²½ë˜ëŠ”ê±¸ í™•ì¸ê°€ëŠ¥í•©ë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ ì—¬ê¸°ì—ëŠ” ë‘ê°€ì§€ ë¬¸ì œì ì„ ê°–ê³  ìˆìŠµë‹ˆë‹¤.

1. ìƒíƒœë¥¼ ì—¬ëŸ¬ê°œ ê´€ë¦¬í•  ìˆ˜ ì—†ë‹¤.
2. input ì— ì‚¬ìš©í• ê²½ìš° í¬ì»¤ìŠ¤ë¥¼ ìƒì–´ë²„ë¦¼

ìœ„ ì˜ˆì œëŠ” ë‹¨ì¼ìƒíƒœê´€ë¦¬ ë²„ì „ì´ê³  ì‹¤ì œë¡œëŠ” ì—¬ëŸ¬ê°œì˜ ìƒíƒœë“¤ì´ ì¡´ì¬í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í•´ë‹¹ ì½”ë“œë¡œëŠ” í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤.

### ë‹¤ì¤‘ ìƒíƒœê´€ë¦¬ ë²„ì „

```tsx:index.js showLineNumberss
function createReact() {
  let hooks = [];
  let currentIndex = 0;

  function useState(initialValue) {
    const index = currentIndex;

    if (hooks[index] === undefined) {
      hooks[index] = initialValue;
      console.log(`useState[${index}] ì´ˆê¸°í™”:`, initialValue);
    }

    const setState = newValue => {
      hooks[index] =
        typeof newValue === "function" ? newValue(hooks[index]) : newValue;
      console.log(`setState[${index}]:`, hooks[index]);
      React.renderComponent(Component);
    };

    currentIndex++;
    return [hooks[index], setState];
  }

  function renderComponent(componentFn) {
    // ğŸ§  ë Œë” ì „ í¬ì»¤ìŠ¤ì™€ ì»¤ì„œ ìœ„ì¹˜ ê¸°ì–µ
    const active = document.activeElement;
    const activeId = active?.id;
    let cursorPos = null;

    if (
      active &&
      (active.tagName === "INPUT" || active.tagName === "TEXTAREA") &&
      typeof active.selectionStart === "number"
    ) {
      cursorPos = active.selectionStart;
    }

    // ë Œë” ì‹¤í–‰
    currentIndex = 0;
    componentFn();

    // ë Œë” í›„ í¬ì»¤ìŠ¤ ë° ì»¤ì„œ ë³µì›
    if (activeId) {
      const el = document.getElementById(activeId);
      if (el) {
        el.focus();
        if (
          cursorPos !== null &&
          (el.tagName === "INPUT" || el.tagName === "TEXTAREA") &&
          typeof el.setSelectionRange === "function"
        ) {
          el.setSelectionRange(cursorPos, cursorPos);
        }
      }
    }
  }

  return { useState, renderComponent };
}

const React = createReact();

function Component() {
  const [count, setCount] = React.useState(0);
  const [name, setName] = React.useState("í˜•ë‹˜");

  const app = document.querySelector("#app");
  app.innerHTML = `
    <h1>Count: ${count}</h1>
    <h2>Name: ${name}</h2>
    <button id="inc">+</button>
    <button id="dec">-</button>
    <input id="input" type="text" value="${name}" />
  `;

  document.querySelector("#inc").onclick = () => setCount(count + 1);
  document.querySelector("#dec").onclick = () => setCount(count - 1);
  document.querySelector("#input").oninput = e => setName(e.target.value);
}

React.renderComponent(Component);
```

ì—¬ëŸ¬ê°œì˜ ìƒíƒœ ê´€ë¦¬ë¥¼ í•˜ê¸°ìœ„í•´ì„œ `let hooks = [];` ë°°ì—´ì„ ì¶”ê°€í–ˆê³   
`currentIndex` ë¡œ ìƒíƒœê´€ë¦¬ì˜ ì¸ë±ìŠ¤ ê°’ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.  
input ê°™ì€ê²½ìš° ìƒíƒœê°€ ë³€ê²½ë ë•Œë§ˆë‹¤ í¬ì»¤ìŠ¤ë¥¼ ìƒì–´ë²„ë ¤ ë§¤ë²ˆ ë‹¤ì‹œ í¬ì»¤ì‹±ì„ í•´ì¤˜ì•¼í•˜ê³   
í¬ì»¤ì‹±ì„ ì£¼ë”ë¼ë„ ì…ë ¥ë˜ë˜ ì»¤ì„œì˜ ìœ„ì¹˜ë„ ìƒì–´ë²„ë¦¬ê¸° ë•Œë¬¸ì— í¬ì»¤ìŠ¤ì™€ ì»¤ì„œì˜ ìœ„ì¹˜ë¥¼ ë³µì›í•´ì£¼ê¸° ìœ„í•œ ì½”ë“œë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

ë¦¬ì•¡íŠ¸ì—ì„œëŠ” `Virtual DOM` ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë”ì„ ì‹¤ì œë¡œ ì¬ìƒì„±í•˜ëŠ”ê²ƒì´ ì•„ë‹ˆë¼ í•„ìš”í•œ ì†ì„±ë§Œ ì—…ë°ì´íŠ¸ì‹œì¼œ ì´ëŸ° ë³µì› ë¡œì§ì€ ë‚´ë¶€ì ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.

ë¦¬ì•¡íŠ¸ì˜ ìƒíƒœê´€ë¦¬ëŠ” ë¶€ëª¨ì—ì„œ ìƒíƒœ ë³€ê²½ì´ ìˆì„ê²½ìš° ìì‹ ìš”ì†Œê¹Œì§€ ëª¨ë‘ ë‹¤ì‹œ ë Œë”ë§ ë˜ëŠ” íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤.  
ê·¸ë¡œì¸í•´ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì´ ë°œìƒí•˜ë©´ì„œ ì‚¬ìš©ì„±ì„ ì €í•´í•˜ëŠ” ë¬¸ì œë“¤ì´ ë°œìƒí•©ë‹ˆë‹¤.  
ì´ ìƒíƒœê´€ë¦¬ì˜ ìµœì í™”ë¥¼ ìœ„í•´ì„œ ìš°ë¦¬ëŠ” ì—¬ëŸ¬ê°€ì§€ í›…ë“¤ì„ ë³µí•©ì ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼í•˜ê³  ì»´í¬ë„ŒíŠ¸ì˜ êµ¬ì¡° ë˜í•œ ë§ì€ ê³ ë¯¼ê³¼ ìµœì í™”ê°€ í•„ìš”í•˜ê²Œ ë©ë‹ˆë‹¤.

ê·¸ë˜ì„œ ë¦¬ì•¡íŠ¸ê°€ ê°–ëŠ” ë‹¨ì ì„ ë³´ì™„í•˜ë©´ì„œ ë‚˜ì˜¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ `Preact, Solid, Qwik` ë“±ì´ ìˆìŠµë‹ˆë‹¤.  
ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì€ `Signal` ì„ ì‚¬ìš©í•´ì„œ ìƒíƒœ ê´€ë¦¬ë¥¼ í•©ë‹ˆë‹¤.  
í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì€ ê°€ìƒë”ì„ ì“°ì§€ì•Šê³  ì‹¤ì œ ë”ì„ ì¡°ì‘í•˜ê³  ìƒíƒœê´€ë¦¬ ë˜í•œ ê´€ë ¨ì´ìˆëŠ” ë”ë§Œ ë³€ê²½í•˜ê¸°ë•Œë¬¸ì— ë Œë”ë§ ìµœì í™”ì— ëŒ€í•œ ì‹ ê²½ì„ ìµœì†Œí™” í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ë²ˆë“¤ ì‚¬ì´ì¦ˆë˜í•œ ë” ì‘ê³ , ê°€ìƒë”ìœ¼ë¡œ ì¸í•œ ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ëŸ¼ ì´ Signal ì„ ìˆœìˆ˜ JS ë¡œ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.

```tsx:index.js showLineNumberss
function useSginal(initialValue) {
  let value = initialValue
  const subscribers = new Set() // ê°’ì„ ì½ì€ DOM ë…¸ë“œë“¤ì„ ì €ì¥

  const get = () => {
    if (currentBinding) {
      subscribers.add(currentBinding)
    }
    return value
  }

  const set = (newValue) => {
    if (value ==== newValue) return;
    value = newValue;
    subscribers.forEach((update) => update(value))
  }

  return {get, set}
}

let currentBinding = null // í˜„ì¬ ì–´ë–¤ DOM ì„ ë°”ì¸ë”© ì¤‘ì¸ì§€

function bindText(el, signal, formatter = (v) => v) {
  const update = (value) => {
    el.textContent = formatter(value)
  }
  currentBinding = update;
  update(signal.get())
  currentBinding = null;
}

// inputê³¼ signalì„ ì–‘ë°©í–¥ìœ¼ë¡œ ì—°ê²°í•˜ëŠ” í—¬í¼
function bindInput(el, signal) {
  const update = (value) => {
    el.value = value;
  };
  currentBinding = update;
  update(signal.get()); // ì´ˆê¸°ê°’ ë Œë”
  currentBinding = null;

  el.addEventListener("input", (e) => signal.set(e.target.value));
}

const count = useSignal(0); // ì´ˆê¸°ê°’ ì‹œê·¸ë„ ìƒì„±
const name = useSignal("í˜•ë‹˜"); // ì´ˆê¸°ê°’ ì‹œê·¸ë„ ìƒì„±

const app = document.querySelector("#app");
app.innerHTML = `
  <h1 id="count"></h1>
  <h2 id="name"></h2>
  <button id="inc">+</button>
  <button id="dec">-</button>
  <input id="input" type="text" />
`;

// ë°”ì¸ë”© ì—°ê²°
bindText(document.querySelector("#count"), count, (v) => `Count: ${v}`);
bindText(document.querySelector("#name"), name, (v) => `Name: ${v}`);
bindInput(document.querySelector("#input"), name);

// ì´ë²¤íŠ¸
document.querySelector("#inc").onclick = () => count.set(count.get() + 1);
document.querySelector("#dec").onclick = () => count.set(count.get() - 1);
```

ë§ˆì§€ë§‰ìœ¼ë¡œ Proxy ê¸°ë°˜ ìƒíƒœê´€ë¦¬ ì½”ë“œë¥¼ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.

```tsx:index.js showLineNumberss
// ---------------------------
// ğŸ§© Proxy ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬ ìƒ˜í”Œ
// ---------------------------

// êµ¬ë…ì(reactive effect) ì €ì¥ì†Œ
const subscribers = new Set();

// ìƒíƒœ ìƒì„±
function createStore(initialState) {
  const state = new Proxy(initialState, {
    get(target, key) {
      return target[key];
    },
    set(target, key, value) {
      if (target[key] !== value) {
        target[key] = value;
        // ëª¨ë“  êµ¬ë…ìì—ê²Œ ìƒíƒœ ë³€ê²½ ì•Œë¦¼
        subscribers.forEach(fn => fn());
      }
      return true;
    },
  });

  return state;
}

// effect ë“±ë¡
function autorun(fn) {
  subscribers.add(fn);
  fn(); // ìµœì´ˆ 1íšŒ ì‹¤í–‰
}

// ---------------------------
// ğŸ§± Example
// ---------------------------
const state = createStore({
  count: 0,
  name: "í™ê¸¸ë™",
});

// DOM ë Œë” í•¨ìˆ˜
autorun(() => {
  document.body.innerHTML = `
    <h1>Count: ${state.count}</h1>
    <h2>Name: ${state.name}</h2>
    <button id="inc">+</button>
    <button id="dec">-</button>
    <input id="input" value="${state.name}" />
  `;

  document.getElementById("inc").onclick = () => state.count++;
  document.getElementById("dec").onclick = () => state.count--;
  document.getElementById("input").oninput = (e) => (state.name = e.target.value);
});
```

ì´ê²ƒë„ ì½”ë“œë¥¼ ì˜ ë³´ë©´ ì „ì²´ ë”ì„ ë¦¬ë Œë”ë§ í•˜ëŠ” í˜•ì‹ì…ë‹ˆë‹¤.  
ë³€ê²½í•  ê°’ì´ ìˆëŠ” ë¶€ë¶„ ë” ì—…ë°ì´íŠ¸ ë²„ì „ìœ¼ë¡œ ì½”ë“œë¥¼ ìˆ˜ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.

```tsx:index.js showLineNumberss
// ---------------------------
// ğŸ§© Proxy + ë¶€ë¶„ DOM ì—…ë°ì´íŠ¸ ë²„ì „
// ---------------------------

const subscribers = new Map(); // keyë³„ êµ¬ë…ì

function createStore(initialState) {
  return new Proxy(initialState, {
    get(target, key) {
      return target[key];
    },
    set(target, key, value) {
      if (target[key] !== value) {
        target[key] = value;
        // í•´ë‹¹ keyë§Œ ì—…ë°ì´íŠ¸
        if (subscribers.has(key)) {
          subscribers.get(key).forEach(fn => fn(value));
        }
      }
      return true;
    },
  });
}

// íŠ¹ì • ì†ì„±ì— ëŒ€í•œ êµ¬ë… ë“±ë¡
function watch(key, fn) {
  if (!subscribers.has(key)) subscribers.set(key, new Set());
  subscribers.get(key).add(fn);
  fn(state[key]); // ì´ˆê¸° ë Œë”
}

// ---------------------------
// ğŸ§± Example
// ---------------------------
const state = createStore({
  count: 0,
  name: "í˜•ë‹˜",
});

// HTML êµ¬ì„± (ì´ˆê¸° 1íšŒë§Œ ë Œë”)
document.body.innerHTML = `
  <div>
    <h1 id="count"></h1>
    <h2 id="name"></h2>
    <button id="inc">+</button>
    <button id="dec">-</button>
    <input id="input" />
  </div>
`;

// ë¶€ë¶„ ì—…ë°ì´íŠ¸ ì—°ê²°
watch("count", (value) => {
  document.getElementById("count").textContent = `Count: ${value}`;
});

watch("name", (value) => {
  document.getElementById("name").textContent = `Name: ${value}`;
  document.getElementById("input").value = value;
});

// ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ (ìƒíƒœ ë³€ê²½)
document.getElementById("inc").onclick = () => state.count++;
document.getElementById("dec").onclick = () => state.count--;
document.getElementById("input").oninput = (e) => (state.name = e.target.value);
```

ì´ë ‡ê²Œ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ë©´ ë³€ê²½í•  ê°’ì´ ìˆëŠ” ë¶€ë¶„ ë”ë§Œ ì—…ë°ì´íŠ¸ ë©ë‹ˆë‹¤.
